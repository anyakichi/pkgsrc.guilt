# HG changeset patch
# User INAJIMA Daisuke <inajima@sopht.jp>
# Parent  1201b8841635c88f41ce49ce94fca9cd6ca5c7bc

diff --git a/wip/ocaml-stringext/DESCR b/wip/ocaml-stringext/DESCR
new file mode 100755
--- /dev/null
+++ b/wip/ocaml-stringext/DESCR
@@ -0,0 +1,16 @@
+Extra string functions for OCaml. Mainly splitting. All functions are in the
+`Stringext` module. Here's a snippet of most useful functions out of the mli:
+
+```
+(** split [?max] [s] [~on] splits [s] on every [on] occurence upto
+    [max] number of items if [max] is specified. [max] is assumed to
+    be a small number if specified. To not cause stack overflows *)
+val split : ?max:int -> string -> on:char -> string list
+
+(** full_split [s] [~on] will split [s] on every occurence
+    of [on] but will add the separators between the tokens. Maintains
+    the invariant:
+
+    String.concat (full_split s ~on) =s *)
+val full_split : string -> on:char -> string list
+```
diff --git a/wip/ocaml-stringext/Makefile b/wip/ocaml-stringext/Makefile
new file mode 100755
--- /dev/null
+++ b/wip/ocaml-stringext/Makefile
@@ -0,0 +1,19 @@
+# $NetBSD$
+
+DISTNAME=	stringext-${VERS}
+VERS=		1.4.0
+CATEGORIES=	devel
+MASTER_SITES=	https://github.com/rgrinberg/stringext/archive/
+DISTFILES=	v${VERS}${EXTRACT_SUFX}
+DIST_SUBDIR=	ocaml-stringext
+FETCH_USING=	curl
+
+MAINTAINER=	pkgsrc-users@NetBSD.org
+HOMEPAGE=	https://github.com/rgrinberg/stringext
+COMMENT=	Extra string functions for OCaml
+LICENSE=	gnu-lgpl-v2
+
+OCAML_USE_OASIS=      yes
+
+.include "../../mk/ocaml.mk"
+.include "../../mk/bsd.pkg.mk"
diff --git a/wip/ocaml-stringext/PLIST b/wip/ocaml-stringext/PLIST
new file mode 100755
--- /dev/null
+++ b/wip/ocaml-stringext/PLIST
@@ -0,0 +1,12 @@
+@comment $NetBSD$
+lib/ocaml/site-lib/stringext/META
+lib/ocaml/site-lib/stringext/stringext.a
+lib/ocaml/site-lib/stringext/stringext.annot
+lib/ocaml/site-lib/stringext/stringext.cma
+lib/ocaml/site-lib/stringext/stringext.cmi
+lib/ocaml/site-lib/stringext/stringext.cmt
+lib/ocaml/site-lib/stringext/stringext.cmti
+lib/ocaml/site-lib/stringext/stringext.cmx
+lib/ocaml/site-lib/stringext/stringext.cmxa
+lib/ocaml/site-lib/stringext/stringext.cmxs
+lib/ocaml/site-lib/stringext/stringext.mli
diff --git a/wip/ocaml-stringext/buildlink3.mk b/wip/ocaml-stringext/buildlink3.mk
new file mode 100755
--- /dev/null
+++ b/wip/ocaml-stringext/buildlink3.mk
@@ -0,0 +1,12 @@
+# $NetBSD$
+
+BUILDLINK_TREE+=	ocaml-stringext
+
+.if !defined(OCAML_STRINGEXT_BUILDLINK3_MK)
+OCAML_STRINGEXT_BUILDLINK3_MK:=
+
+BUILDLINK_API_DEPENDS.ocaml-stringext+=	ocaml-stringext>=1.2.0
+BUILDLINK_PKGSRCDIR.ocaml-stringext?=	../../wip/ocaml-stringext
+.endif	# OCAML_STRINGEXT_BUILDLINK3_MK
+
+BUILDLINK_TREE+=	-ocaml-stringext
diff --git a/wip/ocaml-stringext/distinfo b/wip/ocaml-stringext/distinfo
new file mode 100644
--- /dev/null
+++ b/wip/ocaml-stringext/distinfo
@@ -0,0 +1,5 @@
+$NetBSD$
+
+SHA1 (ocaml-stringext/v1.4.0.tar.gz) = d6bb95d1638ce5bf7838d2ee3258a65d420e5536
+RMD160 (ocaml-stringext/v1.4.0.tar.gz) = 39ccbff773bd6efac38e2f4b254c320c3bd22f58
+Size (ocaml-stringext/v1.4.0.tar.gz) = 49163 bytes

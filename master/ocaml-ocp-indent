# HG changeset patch
# Parent 9dfd7bcafbb8f03c7d34bc4dc26a0a5c2a8aa385

diff -r 9dfd7bcafbb8 devel/ocaml-ocp-indent/DESCR
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/devel/ocaml-ocp-indent/DESCR	Wed Jan 21 17:33:25 2015 +0900
@@ -0,0 +1,1 @@
+ocp-indent is a customizable tool to indent OCaml code.
diff -r 9dfd7bcafbb8 devel/ocaml-ocp-indent/Makefile
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/devel/ocaml-ocp-indent/Makefile	Wed Jan 21 17:33:25 2015 +0900
@@ -0,0 +1,32 @@
+# $NetBSD$
+#
+
+PKGNAME=	ocaml-ocp-indent-${VERSION}
+DISTNAME=	${VERSION}
+VERSION=	1.4.2b
+DIST_SUBDIR=	${PKGNAME_NOREV}
+
+CATEGORIES=	devel
+MASTER_SITES=	https://github.com/OcamlPro/ocp-indent/archive/
+FETCH_USING=	curl
+
+GNU_CONFIGURE=	yes
+USE_TOOLS+=	gmake
+
+MAINTAINER=	pkgsrc-users@NetBSD.org
+HOMEPAGE=	http://opam.ocamlpro.com/
+COMMENT=	a customizable tool to indent OCaml code
+LICENSE=	gnu-gpl-v3
+
+WRKSRC=		${WRKDIR}/ocp-indent-${DISTNAME}/
+
+CONFIGURE_ARGS+=--datarootdir=${PREFIX}/share/ocp-indent
+MAKE_FLAGS+=	LIBDIR=${BUILDLINK_PREFIX.ocaml-findlib}/lib/ocaml/site-lib
+
+DEPENDS+=	ocaml-cmdliner-[0-9]*:../../devel/ocaml-cmdliner
+DEPENDS+=	ocaml-ocp-build-[0-9]*:../../devel/ocaml-ocp-build
+
+.include "../../lang/ocaml/opt.mk"
+.include "../../lang/ocaml/buildlink3.mk"
+.include "../../devel/ocaml-findlib/buildlink3.mk"
+.include "../../mk/bsd.pkg.mk"
diff -r 9dfd7bcafbb8 devel/ocaml-ocp-indent/PLIST
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/devel/ocaml-ocp-indent/PLIST	Wed Jan 21 17:33:25 2015 +0900
@@ -0,0 +1,31 @@
+@comment $NetBSD$
+@unexec %D/libexec/ocaml-findlib-register del %D/lib/ocaml/site-lib/ocp-indent
+bin/ocp-indent
+lib/ocaml/site-lib/ocp-indent/META
+lib/ocaml/site-lib/ocp-indent/lexer/approx_lexer.cmi
+lib/ocaml/site-lib/ocp-indent/lexer/approx_lexer.cmt
+lib/ocaml/site-lib/ocp-indent/lexer/approx_tokens.cmi
+lib/ocaml/site-lib/ocp-indent/lexer/approx_tokens.cmt
+${PLIST.opt}lib/ocaml/site-lib/ocp-indent/lexer/ocp-indent.lexer.a
+lib/ocaml/site-lib/ocp-indent/lexer/ocp-indent.lexer.cma
+${PLIST.opt}lib/ocaml/site-lib/ocp-indent/lexer/ocp-indent.lexer.cmxa
+lib/ocaml/site-lib/ocp-indent/lib/indentBlock.cmi
+lib/ocaml/site-lib/ocp-indent/lib/indentBlock.cmti
+lib/ocaml/site-lib/ocp-indent/lib/indentConfig.cmi
+lib/ocaml/site-lib/ocp-indent/lib/indentConfig.cmti
+lib/ocaml/site-lib/ocp-indent/lib/indentPrinter.cmi
+lib/ocaml/site-lib/ocp-indent/lib/indentPrinter.cmti
+${PLIST.opt}lib/ocaml/site-lib/ocp-indent/lib/ocp-indent.lib.a
+lib/ocaml/site-lib/ocp-indent/lib/ocp-indent.lib.cma
+${PLIST.opt}lib/ocaml/site-lib/ocp-indent/lib/ocp-indent.lib.cmxa
+lib/ocaml/site-lib/ocp-indent/utils/nstream.cmi
+lib/ocaml/site-lib/ocp-indent/utils/nstream.cmti
+${PLIST.opt}lib/ocaml/site-lib/ocp-indent/utils/ocp-indent.utils.a
+lib/ocaml/site-lib/ocp-indent/utils/ocp-indent.utils.cma
+${PLIST.opt}lib/ocaml/site-lib/ocp-indent/utils/ocp-indent.utils.cmxa
+lib/ocaml/site-lib/ocp-indent/utils/pos.cmi
+lib/ocaml/site-lib/ocp-indent/utils/pos.cmti
+man/man1/ocp-indent.1
+share/ocp-indent/emacs/site-lisp/ocp-indent.el
+share/ocp-indent/vim/syntax/ocp-indent.vim
+@exec %D/libexec/ocaml-findlib-register add %D/lib/ocaml/site-lib/ocp-indent
diff -r 9dfd7bcafbb8 devel/ocaml-ocp-indent/distinfo
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/devel/ocaml-ocp-indent/distinfo	Wed Jan 21 17:33:25 2015 +0900
@@ -0,0 +1,7 @@
+$NetBSD$
+
+SHA1 (ocaml-ocp-indent-1.4.2b/1.4.2b.tar.gz) = 7a2ae7eacf4943545a810e0c9f0c65d1439e7728
+RMD160 (ocaml-ocp-indent-1.4.2b/1.4.2b.tar.gz) = 6348ac6d9472bdcf0c1da65b1615c1437450d1b7
+Size (ocaml-ocp-indent-1.4.2b/1.4.2b.tar.gz) = 139321 bytes
+SHA1 (patch-Makefile) = 4585421e3ead94f474e639a5dd72bee1b06314c2
+SHA1 (patch-ocp-indent.install) = a26ab10718710e077e9feab45096845c32bbb599
diff -r 9dfd7bcafbb8 devel/ocaml-ocp-indent/patches/patch-Makefile
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/devel/ocaml-ocp-indent/patches/patch-Makefile	Wed Jan 21 17:33:25 2015 +0900
@@ -0,0 +1,11 @@
+--- Makefile.orig	2014-09-01 18:31:54.000000000 +0900
++++ Makefile	2015-01-12 15:59:55.000000000 +0900
+@@ -46,7 +46,7 @@
+ 
+ .PHONY: install
+ install: ocp-indent $(manpage)
+-	opam-installer --prefix $(prefix) ocp-indent.install
++	opam-installer --prefix $(DESTDIR)$(PREFIX) --libdir $(DESTDIR)$(LIBDIR) ocp-indent.install
+ 	@echo
+ 	@echo
+ 	@echo "=== ocp-indent installed ==="
